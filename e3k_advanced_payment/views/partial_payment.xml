<?xml version="1.0"?>
<odoo>
    <record id="account_partial_payment_in_tree" model="ir.ui.view">
        <field name="name">account.payment.partial</field>
        <field name="model">account.payment.partial</field>
        <field name="arch" type="xml">
            <tree editable="bottom" edit="0" create="0">
                <field name="invoice_id"/>
                <field name="payment_in_id"/>
                <field name="invoice_date"/>
                <field name="invoice_date"/>
                <field name="number"/>
                <field name="ref"/>
                <field name="invoice_date_due"/>
                <field name="invoice_origin"/>
                <field name="amount_total_signed" sum="Total"/>
                <field name="amount_residual_signed" string="To Pay" sum="Total"/>
                <field name="partial_payment" sum="Total"/>
                <field name="currency_id"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <record id="account_partial_payment_out_tree" model="ir.ui.view">
        <field name="name">account.payment.partial</field>
        <field name="model">account.payment.partial</field>
        <field name="arch" type="xml">
            <tree editable="bottom" edit="0" create="0">
                <field name="invoice_id"/>
                <field name="payment_id"/>
                <field name="invoice_date"/>
                <field name="invoice_date"/>
                <field name="number"/>
                <field name="ref"/>
                <field name="invoice_date_due"/>
                <field name="invoice_origin"/>
                <field name="amount_total_signed" sum="Total"/>
                <field name="amount_residual_signed" string="To Pay" sum="Total"/>
                <field name="partial_payment" sum="Total"/>
                <field name="currency_id"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <record id="action_account_partial_payment_in" model="ir.actions.act_window">
        <field name="name">Customer Partial Payment</field>
        <field name="res_model">account.payment.partial</field>
        <field name='view_mode'>tree</field>
        <field name='view_id' ref="account_partial_payment_in_tree"/>
        <field name="domain">
            [('invoice_id.payment_state', '=', 'not_paid'), ('invoice_id.state', '=', 'posted'),
            ('payment_id.state', 'not in', ('draft', 'sent', 'cancel')), ('payment_id.payment_type', '=', 'inbound')]
        </field>
    </record>

    <record id="action_account_partial_payment_out" model="ir.actions.act_window">
        <field name="name">Supplier Partial Payment</field>
        <field name="res_model">account.payment.partial</field>
        <field name='view_mode'>tree</field>
        <field name='view_id' ref="account_partial_payment_out_tree"/>
        <field name="domain">
            [('invoice_id.payment_state', '=', 'not_paid'), ('invoice_id.state', '=', 'posted'),
            ('payment_id.state', 'not in', ('draft', 'sent', 'cancel')), ('payment_id.payment_type', '=', 'outbound')]
        </field>
    </record>

    <menuitem
            action='action_account_partial_payment_in'
            id='menu_partial_payment_in'
            parent='account.menu_finance_configuration'/>

    <menuitem
            action='action_account_partial_payment_out'
            id='menu_partial_payment_out'
            parent='account.menu_finance_configuration'/>
</odoo>