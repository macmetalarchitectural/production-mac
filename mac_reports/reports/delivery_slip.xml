<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_delivery_baleco_mac2" inherit_id="stock.report_delivery_document">
        <xpath expr="//div[@name='div_outgoing_address']" position="replace">
            <div class="col-6" name="div_outgoing_address">
                <div t-if="o.sale_id and o.sale_id.partner_id ">
                    <span>
                        <strong>Sold to:</strong>
                    </span>
                    <div t-field="o.sale_id.partner_id"
                         t-options='{"widget": "contact", "fields": ["address", "name", "phone"], "no_marker": True, "phone_icons": True}'/>
                </div>
                <div t-if="o.picking_type_id.code != 'internal' and (not o.move_ids_without_package or not o.move_ids_without_package[0].partner_id) and o.picking_type_id.warehouse_id.partner_id">
                    <span>
                        <strong>Warehouse Address:</strong>
                    </span>
                    <div t-field="o.picking_type_id.warehouse_id.partner_id"
                         t-options='{"widget": "contact", "fields": ["address", "name", "phone"], "no_marker": True, "phone_icons": True}'/>
                </div>
            </div>
        </xpath>
        <xpath expr="//div[@t-if='o.shipping_weight']" position="replace">
            <div class="col-auto">
                <strong>Total Weight:</strong>
                <br/>

            </div>
        </xpath>
        <xpath expr="//div[@name='div_incoming_address']" position="replace">
            <div class="col-5 offset-1" name="div_incoming_address">
                <div t-if="o.picking_type_id.code=='incoming' and o.partner_id">
                    <span>
                        <strong>Vendor Address:</strong>
                    </span>
                </div>
                <div t-if="o.picking_type_id.code=='internal' and o.partner_id">
                    <span>
                        <strong>Warehouse Address:</strong>
                    </span>
                </div>
                <div t-if="o.picking_type_id.code=='outgoing' and o.partner_id">
                    <span>
                        <strong>Ship to:</strong>
                    </span>
                </div>
                <div t-if="o.partner_id" name="partner_header">
                    <div t-field="o.partner_id"
                         t-options='{"widget": "contact", "fields": ["address", "name", "phone"], "no_marker": True, "phone_icons": True}'/>
                    <p t-if="o.sudo().partner_id.vat"><t t-esc="o.company_id.country_id.vat_label or 'Tax ID'"/>:
                        <span t-field="o.sudo().partner_id.vat"/>
                    </p>
                </div>
            </div>
        </xpath>
        <xpath expr="//table[@name='stock_move_table']" position="before">
            <table class="table">
                <tr>
                    <td style="background-color:#FFFFFF; color: black; font-size: 11px !important; font-weight: bold ; width:150px">
                        DELIVERY COMMENT:
                    </td>
                    <td style="background-color:#FFFFFF; color: black; font-size: 11px !important;">
                        <span t-field="o.note"/>

                    </td>
                </tr>
            </table>
        </xpath>

        <xpath expr="//table[@name='stock_move_line_table']" position="after">
            <table class="table" style="font-weight: bold; !important" name="order_comment">
                <tr>
                    <td style="background-color:#FFFFFF; color: black; font-size: 11px !important; width:150px">
                        ORDER COMMENT:

                    </td>
                    <td style="background-color:#FFFFFF; color: black; font-size: 11px !important;">
                        <span t-field="o.sale_id.delivery_note"/>
                    </td>
                </tr>
            </table>
        </xpath>
        <xpath expr="//div[@name='div_sched_date']" position="replace">
            <div t-if="o.state" class="col-auto" name="div_sched_date">
                <strong>Shipping Date:</strong>
                <t t-if="o.state == 'done'">
                    <p t-field="o.date_done" t-options='{"format": "MM/dd/yyyy"}'/>
                </t>
                <t t-if="o.state != 'done'">
                    <p t-field="o.scheduled_date" t-options='{"format": "MM/dd/yyyy"}'/>
                </t>
            </div>
        </xpath>
        <xpath expr="//div[@name='div_sched_date']" position="after">
            <div t-if="not is_html_empty(o.sale_id.payment_term_id.note)" class="col-auto" name="div_payment_term_id">
                <strong>Terms:</strong>
                <span t-field="o.sale_id.payment_term_id.note"/>
            </div>
        </xpath>

        <xpath expr="//th[@name='th_sm_quantity']" position="replace">
            <th name="th_sm_quantity">
                <strong>Qty exp.</strong>
            </th>

        </xpath>

        <xpath expr="//table[@name='stock_move_table']/tbody/tr/td[3]" position="replace">
            <td>
            </td>
        </xpath>
        <xpath expr="//table[@name='stock_move_table']/tbody/tr/td[1]" position="replace">
            <t t-if="move.sale_line_id">
                <td>
                    <span t-field="move.sale_line_id.name"/>
                </td>
            </t>

            <t t-else="">
                <td>
                    <span t-field="move.product_id"/>
                    <p t-if="move.description_picking != move.product_id.name and move.description_picking != move.product_id.display_name">
                        <span t-field="move.description_picking"/>
                    </p>
                </td>
            </t>
        </xpath>

        <xpath expr="//th[@name='th_sml_quantity']" position="replace">
            <th name="th_sml_quantity">
                <strong>Qty exp.</strong>
            </th>

        </xpath>
        <xpath expr="//table[@name='order_comment']" position="after">
            <br/>
            <br/>
            <br/>

            <table class="table" style="font-weight: bold; !important; page-break-inside: avoid;">
                <tr>
                    <td style="background-color:#FFFFFF; color: black; font-size: 11px !important;">
                        Shipped by:..........................................

                    </td>
                    <td style="background-color:#FFFFFF; color: black; font-size: 11px !important;">
                        Insp. By :............................................
                    </td>
                    <td style="background-color:#FFFFFF; color: black; font-size: 11px !important;">
                        Date : ..............................................
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#FFFFFF; color: black; font-size: 11px !important; ">
                        Received by :..............................................

                    </td>
                    <td style="background-color:#FFFFFF; color: black; font-size: 11px !important;">
                        Letters Mold.:...................................................
                    </td>
                    <td style="background-color:#FFFFFF; color: black; font-size: 11px !important;">
                        Time : .........................................................
                    </td>
                </tr>
               <tr style="background-color:#FFFFFF; color: black; font-size: 11px !important; font-weight: bold">
                    <td style="background-color:#FFFFFF; color: black; font-size: 11px !important;  border-top: 1px solid black;
font-weight: bold" colspan="3">
                        Des frais de 2,5% par mois seront ajoutés à toutes factures impayées dans les 30 jours et des
                        frais
                        supplémentaires seront considérés si CENTRIA est utilisé pour les paiements.
                        <br/>
                        MAC ne peut être tenu responsable d’avoir des variations de tons d’une même couleur pour des
                        commandes
                        qui ne sont pas placées et livrées en même temps dans le cadre d’un même projet.
                        <br/>
                        MAC exigera une réservation préalable du matériel lorsque le client prévoit faire plusieurs
                        commandes
                        pour un même projet. MAC recommande fortement l’achat d’acier des séries Textural III ou
                        Textural
                        III
                        Print* qui sont les plus performants contre la rouille et les rayons UV. Si toutefois le client
                        opte
                        pour les séries 8000, PERSPECTA OU PERSPECTA +, l’acier ne sera pas garanti contre la
                        décoloration
                        due
                        aux rayons UV, ni contre la rouille prématurée aux endroits repliés ou fortement pliés.
                        MAC s’engage à accommoder ses clients en fabricant leurs commandes dans les délais suggérés,
                        selon
                        les
                        échéances et la cadence de sa production. MAC ne peut être tenu responsable pour tout dommage
                        d’intérêts

                        et de frais supplémentaires causés par des délais prolongés de livraison.
                        <br/>
                        AVEC LA SÉRIE MAX MS-1 (SANS RAINURE), POSSIBILITÉ DE LÉGÈRES ONDULATIONS : NON-REPSONSABLE.
                        <br/>
                        CONDITION POUR UNE PREMIÈRE COMMANDE : UN ACOMPTE MINIMUM DE (50%) EST EXIGIBLE POUR LA
                        FABRICATION.

                    </td>
                </tr>
            </table>
        </xpath>


    </template>
    <template id="stock_report_delivery_aggregated_move_mac"
              inherit_id="stock.stock_report_delivery_aggregated_move_lines">
        <xpath expr="//tr/td[1]" position="replace">

            <t t-if="aggregated_lines[line]['sale_line_id']">
                <td>
                    <p t-if="aggregated_lines[line]['description']">
                        <span t-esc="aggregated_lines[line]['description']"/>
                    </p>
                </td>

            </t>
            <t t-else="">
                <td>
                    <span t-esc="aggregated_lines[line]['name']"/>
                    <p t-if="aggregated_lines[line]['description']">
                        <span t-esc="aggregated_lines[line]['description']"/>
                    </p>
                </td>
            </t>
        </xpath>
       
        <xpath expr="//tr/td[3]" position="replace">
            <td name="move_line_aggregated_qty_done">
            </td>
        </xpath>
    </template>

</odoo>