<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="cheque_report_payment_receipt_document_inherit"
                  inherit_id="account.report_payment_receipt_document">
            <xpath expr="//div[@class='page']//table[@class='table table-sm']/thead/tr/th[last()]" position="replace">
                <th class="text-right"><span>Montant</span></th>
                <th class="text-right"><span>Montant total</span></th>
                <th class="text-right"><span>Montant d√ª</span></th>
            </xpath>
            <xpath expr="//div[@class='page']//table[@class='table table-sm']/tbody"
                   position="replace">

                <tbody>
                    <tr t-foreach="o.reconciled_invoice_ids" t-as="inv">
                        <t t-set="amount" t-value="inv.amount_total-inv.amount_residual"/>
                        <td>
                            <span t-field="inv.invoice_date"/>
                        </td>
                        <td>
                            <span t-field="inv.name"/>

                            <t t-if="o.partner_type == 'supplier' and o.partner_id.ref">
                                /
                                <span t-field="o.partner_id.ref"/>
                            </t>
                        </td>
                        <td>
                            <span t-field="inv.ref"/>
                        </td>
                        <td class="text-right">
                            <t t-if="inv.move_type in ['in_refund','out_refund'] and inv.amount_total != 0.0 ">
                                -<span t-field="inv.amount_total"/>

                            </t>
                            <t t-else=''>
                                <span t-field="inv.amount_total"/>
                            </t>
<!--                            <span t-field="inv.amount_total"/>-->
                        </td>
                        <!--<td class="text-right">-->
                        <!--    <span t-esc="o._get_invoice_payment_amount(inv)" t-options="{'widget': 'monetary', 'display_currency': inv.currency_id}"/>-->
                        <!--</td>-->
                        <td class="text-right">
                            <t t-if="inv.move_type in ['in_refund','out_refund'] and amount != 0.0 ">
                                -<span t-esc="amount" t-options="{'widget': 'monetary', 'display_currency': inv.currency_id}"/>

                            </t>
                            <t t-else=''>
                                <span t-esc="amount" t-options="{'widget': 'monetary', 'display_currency': inv.currency_id}"/>
                            </t>


                        </td>
                        <td class="text-right">
                            <t t-if="inv.move_type in ['in_refund','out_refund'] and inv.amount_residual != 0.0 ">
                                -<span t-field="inv.amount_residual"/>

                            </t>
                            <t t-else=''>
                                <span t-field="inv.amount_residual"/>
                            </t>
                        </td>
                    </tr>
                </tbody>
            </xpath>
        </template>
    </data>
</odoo>